# About Custom Tiles
Custom Tiles are used to extend the functionaility of the Picniic-based app by allowing the ability to add new tiles that can launch either a native or web app.

# Custom Tiles Admin Portal
Custom Tile configurations are stored in Firebase. 

The admin portal is used to add, remove or configure a web module. It is set up to allow access to users with a Gmail or G-Suite email address.

## App type
The app is an express nodeJS app and can be deployed anywhere

## Permissions
To use the Admin Portal, a user will need to login with a Google Account. The permissions of the Admin Portal are setup to mimic that of the deployed firebase configuration: A ‘Viewer’ role can view the configurations, but cannot edit them. Only ‘Editors’ and ‘Owners’ are able to make and save changes to the Custom Tile configurations.

## Get Started
Install [gcloud](https://cloud.google.com/sdk/install)  
Login with `gcloud beta auth application-default login`  
Run `npm start`

## Firebase Structure

    root/modules/
	  ext-{push id}
	    config:
		  iconUrl: {string},
		  imageUrl: {string},
		  color: {hex color as string}
		name: {string},
		url: {string},
		version: {int}
		appLink:
		  ios: {string},
		  android: {string}
		storeLink:
		  ios: {string},
		  android: {string}

**pushId** - Generated by Firebase. Can be any id unique to root/modules. The key must begin with the **ext-** prefix

**config/iconUrl** - A *url** to a .png or .jpg file that will be displayed to the left of the title of the tile. The image will automatically be scaled and sized to ?x?px  
**config/imageUrl** - A *url** to a .png or .jpg file that will be displayed in the center of the tile. The image will automatically be scaled and sized to ?x?px  
**config/color** - The color of the tile in hex. Eg. “#ff00ff”

**name** - The title displayed on the tile  
**version** - An integer representing the version of the tile. Currently not used by the app.  

**type** - `native` or `web`.  
If the type is `native`, the `appLink` for `ios` and `android` will be used. If the device doesn't respond to the `appLink`, the user will be redirected to the appropriate `storeLink`  
If the type is `web`, the `url` will be launched.

**url** - The *url** of the web page to load when the tile is clicked  


**appLink/ios** - Deep link for the ios app to launch. Eg. picniic://
**appLink/android** - Deep link for the android app to launch. Eg. picniic://

**storeLink/ios** - the link to the store if the app to launch is not installed. *Eg. itms-apps://itunes.apple.com/app/id1039586709*  
**storeLink/android** - the link to the store if the app to launch is not installed. *Eg. market://details?id=com.picniic.picniicapp*

***Note:** A *url* will always refer to a fully qualified, publicly accessible, secure url, starting with **https://** 
